{"version":3,"sources":["../../src/pages/hesap/hesap.module.ts","../../src/pages/hesap/hesap.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HesapPage } from './hesap';\n\n@NgModule({\n  declarations: [\n    HesapPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HesapPage),\n  ],\n  exports: [\n    HesapPage\n  ]\n})\nexport class HesapPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/hesap/hesap.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, Platform  } from 'ionic-angular';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { Storage } from '@ionic/storage';\r\nimport { OzgecmisSerProvider } from '../../providers/ozgecmis-ser';\r\nimport { UserSerProvider } from '../../providers/user-ser';\r\nimport { LoginPage} from '../login/login';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-hesap',\r\n  templateUrl: 'hesap.html',\r\n})\r\nexport class HesapPage {\r\n  cloudUrl: string;\r\n  userUrl: string;\r\n  user: any;\r\n  password: string;\r\n  newpassword: string = \"\";\r\n  newpassword1: string = \"\";\r\n  @ViewChild('userFileInput') userFileInput;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public camera: Camera,\r\n              public storage: Storage, public ozgecmisSer: OzgecmisSerProvider,\r\n              public authService: UserSerProvider,  public platform: Platform) {\r\n\r\n      if (!this.authService.currentUser) {\r\n      this.authService.checkAuthentication().then((res) => {\r\n      }, (err) => {\r\n        this.navCtrl.setRoot(LoginPage);\r\n      });\r\n    }\r\n    else {\r\n    this.storage.get('user')\r\n        .then((user) => { this.user = user;\r\n          this.userUrl = 'url(' + user.resim + ')';\r\n          this.cloudUrl = user.resim;\r\n          console.log(JSON.stringify(user));\r\n        });\r\n      }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad HesapPage');\r\n    this.newpassword = \"\";\r\n    this.newpassword1 = \"\";\r\n  }\r\n\r\n  updateUser(){\r\n    // this.ozgecmisSer.updateAvatar(this.cloudUrl)\r\n    // .then( (resUrl: any) => {\r\n    //   this.cloudUrl = resUrl.secure_url;\r\n    //   console.log(resUrl.secure_url+\"user cloud url\");\r\n\r\n      let details : any = {\r\n          email: this.user.email,\r\n          userUrl: this.cloudUrl\r\n      };\r\n\r\n      if(this.newpassword.trim() && this.newpassword.trim()!= \"\") {\r\n        details.newpassword = this.newpassword;\r\n      }\r\n\r\n      this.authService.updateUser(details).then((result) => {\r\n        // this.presentToast('Kaydınız yapıldı, giriş yapabilirsiniz');\r\n          this.authService.logout();\r\n          this.navCtrl.setRoot(LoginPage);\r\n\r\n      }, (err) => {\r\n        // let msg = JSON.parse(err._body);\r\n        // console.log(msg.error+'asdasd');\r\n      });\r\n    // });\r\n  }\r\n\r\n  getPicture(url) {\r\n    if (!this.platform.is('core')) {\r\n      this.camera.getPicture({\r\n        sourceType : 0,\r\n        destinationType: this.camera.DestinationType.DATA_URL,\r\n        targetWidth: 300,\r\n        targetHeight: 300,\r\n        allowEdit: true,\r\n        quality: 70\r\n      }).then((data) => {\r\n        console.log(\"camera\");\r\n        this.userUrl = 'data:image/jpg;base64,' + data;\r\n        this.cloudUrl = this.userUrl;\r\n        // this.form.patchValue({ 'profilePic': 'data:image/jpg;base64,' + data });\r\n      }, (err) => {\r\n        // alert('Unable to take photo');\r\n      })\r\n    }\n    else {\r\n      console.log(\"native\");\r\n           this.userFileInput.nativeElement.click();\r\n    }\r\n  }\r\n\r\n  processWebImage(event) {\r\n    let reader = new FileReader();\r\n    let imageData = new Image();\r\n    var canvas = document.createElement('canvas');\r\n    let dataUrl = undefined;\r\n    reader.onload = (readerEvent) => {\r\n      console.log(\"event\");\r\n      dataUrl = (readerEvent.target as any).result;\r\n      // console.log(imageData.src+\"src\");\r\n      // canvas.getContext(\"2d\").drawImage(imageData, 0, 0);\r\n      // let dataUrl = canvas.toDataURL('image/jpg');\r\n      console.log(dataUrl);\r\n      console.log(dataUrl.length);\r\n      this.userUrl = 'url(' + dataUrl + ')';\r\n      this.cloudUrl = dataUrl;\r\n      // console.log(imageData);\r\n      // console.log(JSON.stringify(readerEvent.target));\r\n      // this.form.patchValue({ 'profilePic': imageData });\r\n    };\r\n    reader.readAsDataURL(event.target.files[0]);\r\n    console.log(event.target.files[0]);\r\n\r\n  }\r\n\r\n  // getProfileImageStyle(url) {\r\n  //   console.log(url+'  url');\r\n  //   console.log(this.user.resim+'  resim');\r\n  //\r\n  //   if(url)\r\n  //   return 'url(' + url + ')';\r\n  //\r\n  //   else return this.user.resim;\r\n  // }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/hesap/hesap.ts"],"sourceRoot":""}