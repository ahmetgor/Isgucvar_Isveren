{"version":3,"sources":["../../src/pages/firma-hesap/firma-hesap.module.ts","../../src/pages/firma-hesap/firma-hesap.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FirmaHesapPage } from './firma-hesap';\n\n@NgModule({\n  declarations: [\n    FirmaHesapPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FirmaHesapPage),\n  ],\n  exports: [\n    FirmaHesapPage\n  ]\n})\nexport class FirmaHesapPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/firma-hesap/firma-hesap.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Camera } from '@ionic-native/camera';\nimport { Storage } from '@ionic/storage';\nimport { OzgecmisSerProvider } from '../../providers/ozgecmis-ser';\nimport { UserSerProvider } from '../../providers/user-ser';\nimport { IlanSerProvider } from '../../providers/ilan-ser';\nimport { LoginPage} from '../login/login';\n\n@IonicPage()\n@Component({\n  selector: 'page-firma-hesap',\n  templateUrl: 'firma-hesap.html',\n})\nexport class FirmaHesapPage {\n  cloudUrl: string;\n  userUrl: string;\n  user: any;\n  userList: any;\n  password: string;\n  newpassword: string = \"\";\n  newpassword1: string = \"\";\n  @ViewChild('userFileInput') userFileInput;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public camera: Camera,\n              public storage: Storage, public ozgecmisSer: OzgecmisSerProvider,\n              public authService: UserSerProvider, public ilanService: IlanSerProvider) {\n\n      if (!this.authService.currentUser) {\n      this.authService.checkAuthentication().then((res) => {\n      }, (err) => {\n        this.navCtrl.setRoot(LoginPage);\n      });\n    }\n    else {\n    this.storage.get('user')\n        .then((user) => { this.user = user;\n          this.userUrl = 'url(' + user.firmaresim + ')';\n          this.cloudUrl = user.firmaresim;\n\n          this.ilanService.getUsers(user.firmaId)\n          .then((userList) => {this.userList = userList;\n        });\n          // console.log(JSON.stringify(user));\n        });\n      }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad FirmaHesapPage');\n    this.newpassword = \"\";\n    this.newpassword1 = \"\";\n  }\n\n  updateUser(){\n    // this.ozgecmisSer.updateAvatar(this.cloudUrl)\n    // .then( (resUrl: any) => {\n    //   this.cloudUrl = resUrl.secure_url;\n    //   console.log(resUrl.secure_url+\"user cloud url\");\n\n      let details : any = {\n          firma: this.user.firma,\n          userUrl: this.cloudUrl,\n          email: this.user.email\n      };\n\n      if(this.newpassword.trim() && this.newpassword.trim()!= \"\") {\n        details.newpassword = this.newpassword;\n      }\n      console.log(JSON.stringify(details));\n      this.authService.updateFirma(details).then((result) => {\n        // this.presentToast('Kaydınız yapıldı, giriş yapabilirsiniz');\n          this.authService.logout();\n          this.navCtrl.setRoot(LoginPage);\n\n      }, (err) => {\n        // let msg = JSON.parse(err._body);\n        // console.log(msg.error+'asdasd');\n      });\n    // });\n  }\n\n  getPicture(url) {\n    if (Camera['installed']()) {\n      this.camera.getPicture({\n        destinationType: this.camera.DestinationType.DATA_URL,\n        targetWidth: 96,\n        targetHeight: 96\n      }).then((data) => {\n        console.log(\"camera\");\n        this.userUrl = 'data:image/jpg;base64,' + data;\n        this.cloudUrl = this.userUrl;\n        // this.form.patchValue({ 'profilePic': 'data:image/jpg;base64,' + data });\n      }, (err) => {\n        // alert('Unable to take photo');\n      })\n    } else {\n      console.log(\"native\");\n           this.userFileInput.nativeElement.click();\n    }\n  }\n\n  processWebImage(event) {\n    let reader = new FileReader();\n    reader.onload = (readerEvent) => {\n      console.log(\"event\");\n      let imageData = (readerEvent.target as any).result;\n      this.userUrl = 'url(' + imageData + ')';\n      this.cloudUrl = imageData;\n\n    };\n    reader.readAsDataURL(event.target.files[0]);\n  }\n\n  updateUserEnabled(usr: any){\n      let details : any = {\n          email: usr.email,\n          enabled: usr.enabled,\n          en: 'en'\n      };\n      this.authService.updateUser(details).then((result) => {\n      }, (err) => {\n        // console.log(msg.error+'asdasd');\n      });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/firma-hesap/firma-hesap.ts"],"sourceRoot":""}